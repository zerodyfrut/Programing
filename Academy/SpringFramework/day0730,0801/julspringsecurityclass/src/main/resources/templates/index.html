<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INDEX</title>
</head>

<body>
    <h1>인덱스 화면입니다.</h1>
    <div sec:authorize="isAnonymous()">
        <p>로그인하지 않은 사용자입니다.</p>
        <a th:href="@{/login}">로그인</a>
        <a th:href="@{/insert}">회원가입</a>
    </div>
    <div sec:authorize="!isAnonymous()">
        <div th:text="${#authentication.name}"></div>
        <div th:text="${#authentication.principal.users.name}"></div>
        <form th:action="@{/logout}" method="post">
            <input type="submit" value="로그아웃" />
        </form>
    </div>

    <a href="/api/questions">Q&A 게시판</a>

    <a href="/member">멤버</a>
    <div sec:authorize="hasAnyRole('MANAGER','ADMIN')">
        <a href="/manager">매니저</a>
    </div>
    <div sec:authorize="hasRole('ADMIN')">
        <a href="/admin">어드민</a>
    </div>
</body>

</html>